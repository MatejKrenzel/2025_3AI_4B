<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=arrow_upward" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=arrow_downward" />
<mat-card *ngIf="userPost" class="post-card">
  <mat-card-header>
    <img mat-card-avatar [src]="userPost.userId" [alt]="userPost.userId">
    <mat-card-title>{{ userPost.userId }}</mat-card-title>
    <mat-card-subtitle class="">{{ userPost.timestamp.toLocaleString() }}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <p>{{ userPost.description }}</p>
  </mat-card-content>
  <div class="action-bar">
    <button class="vote-button" (click)="upvote()">
      <mat-icon aria-hidden="false" aria-label="Example arrow_upward icon" fontIcon="arrow_upward"></mat-icon>
    </button>
    <span class="vote-count">{{ userPost.upvotes }}</span>
    <button class="vote-button" (click)="downvote()">
      <mat-icon aria-hidden="false" aria-label="Example arrow_downward icon" fontIcon="arrow_downward"></mat-icon>
    </button>
    <span class="vote-count">{{ userPost.downvotes }}</span>
    <button class="comment-button" (click)="toggleComment()">
      <mat-icon aria-hidden="false" aria-label="Example comment icon" fontIcon="comment"></mat-icon>
    </button>
    <button class="share-button"><mat-icon aria-hidden="false" aria-label="Example share icon" fontIcon="share"></mat-icon></button>
  </div>
  <div *ngIf="showCommentInput" class="comment-input">
    <textarea [(ngModel)]="newCommentText" placeholder="Write a comment..."></textarea>
    <button class="post-comment-button" (click)="addComment()">Post Comment</button>
  </div>
  <div *ngFor="let comment of userPost.comments" class="comment">
    <p><strong>{{ comment.userId }}:</strong> {{ comment.text }}</p>
  </div>
</mat-card>